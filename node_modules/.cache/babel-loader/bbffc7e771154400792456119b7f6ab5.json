{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/covid19Dashboard/src/components/Cart/index.js\";\nimport { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport CartItem from '../CartItem';\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Cart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      cartData: [],\n      orderStatus: false\n    };\n\n    this.onClickPlaceOrder = () => {\n      const {\n        cartData\n      } = this.state;\n      cartData.forEach(eachItem => {\n        const {\n          id\n        } = eachItem;\n        localStorage.removeItem(`quantity${id}`);\n        localStorage.removeItem(`isButtonClicked${id}`);\n      });\n      localStorage.removeItem('cartData');\n      this.setState({\n        orderStatus: true,\n        cartData: []\n      });\n    };\n\n    this.onChangeTotalAmount = value => {\n      this.setState(prev => ({\n        totalCartAmount: prev.totalCartAmount + value\n      }));\n    };\n\n    this.updateCartData = () => {\n      const {\n        cartData\n      } = this.state;\n\n      if (cartData.length > 0) {\n        localStorage.setItem('cartData', cartData);\n      } else {\n        localStorage.removeItem('cartData');\n      }\n    };\n\n    this.onDeleteCartItem = id => {\n      const {\n        cartData\n      } = this.state;\n      const updatedCartData = cartData.filter(eachItem => eachItem.id !== id);\n      this.setState({\n        cartData: updatedCartData\n      }, this.updateCartData);\n    };\n  }\n\n  componentDidMount() {\n    const cartData = localStorage.getItem('cartData');\n    const parseCartData = JSON.parse(cartData);\n\n    if (parseCartData === null || parseCartData.length === 0) {\n      this.setState({\n        cartStatus: false\n      });\n    } else {\n      const cartAmounts = [];\n\n      if (parseCartData.length > 0) {\n        parseCartData.forEach(eachItem => {\n          const totalItemAmount = eachItem.cost * eachItem.quantity;\n          cartAmounts.push(totalItemAmount);\n        });\n        const totalCartAmount = cartAmounts.reduce((previousScore, currentScore) => previousScore + currentScore);\n        this.setState({\n          totalCartAmount\n        });\n      }\n\n      this.setState({\n        cartData: parseCartData,\n        cartStatus: true\n      });\n    }\n  }\n\n  render() {\n    const {\n      cartData,\n      cartStatus,\n      orderStatus,\n      totalCartAmount\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: cartStatus && totalCartAmount > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: !orderStatus ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-responsive-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"cart-list-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"cart-desktop-list-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"list-header-name\",\n                    children: \"Item\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"list-header-name\",\n                    children: \"Quantity\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"list-header-name\",\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 23\n                }, this), cartData.map(eachItem => /*#__PURE__*/_jsxDEV(CartItem, {\n                  eachItem: eachItem,\n                  onChangeTotalAmount: this.onChangeTotalAmount,\n                  onDeleteCartItem: this.onDeleteCartItem\n                }, eachItem.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                className: \"cart-line\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"total-cart-amount-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"total-order-text\",\n                    children: \"Order Total:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    testid: \"total-price\",\n                    className: \"total-order-amount\",\n                    children: [\"\\u20B9\", totalCartAmount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"place-order-button-container\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"cart-place-order-button\",\n                  onClick: this.onClickPlaceOrder,\n                  children: \"Place Order\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-successful-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-successful-responsive-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"order-successful-image\",\n                src: \"https://res.cloudinary.com/dw1fcsurf/image/upload/v1636537713/Tasty%20Kitchen/PageNotFound/check-circle.1_1_wss230.png\",\n                alt: \"order successful\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"order-successful-heading\",\n                children: \"Payment Successful\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"order-successful-para\",\n                children: [\"Thank you for ordering \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 46\n                }, this), \"Your payment is successfully completed.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Estimated delivery time :\", new Date(getTime() + 30 * 60000).toLocaleTimeString(), ' ']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"order-successful-button\",\n                  children: \"Go To Home Page\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-cart-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-cart-responsive-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"empty-cart-image\",\n              src: \"https://res.cloudinary.com/dw1fcsurf/image/upload/v1635828875/Tasty%20Kitchen/Cart/cooking_1_nbxuds.png\",\n              alt: \"empty cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"empty-cart-heading\",\n              children: \"No Order Yet!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"empty-cart-para\",\n              children: \"Your cart is empty. Add something from the menu.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"empty-cart-button\",\n                type: \"button\",\n                children: \"Order Now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["/home/workspace/reactjs/coding-practices/covid19Dashboard/src/components/Cart/index.js"],"names":["Component","Link","CartItem","Header","Footer","Cart","state","cartData","orderStatus","onClickPlaceOrder","forEach","eachItem","id","localStorage","removeItem","setState","onChangeTotalAmount","value","prev","totalCartAmount","updateCartData","length","setItem","onDeleteCartItem","updatedCartData","filter","componentDidMount","getItem","parseCartData","JSON","parse","cartStatus","cartAmounts","totalItemAmount","cost","quantity","push","reduce","previousScore","currentScore","render","map","Date","getTime","toLocaleTimeString"],"mappings":"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","sourcesContent":["import {Component} from 'react'\nimport {Link} from 'react-router-dom'\n\nimport CartItem from '../CartItem'\nimport Header from '../Header'\nimport Footer from '../Footer'\nimport './index.css'\n\nclass Cart extends Component {\n  state = {cartData: [], orderStatus: false}\n\n  componentDidMount() {\n    const cartData = localStorage.getItem('cartData')\n    const parseCartData = JSON.parse(cartData)\n    if (parseCartData === null || parseCartData.length === 0) {\n      this.setState({cartStatus: false})\n    } else {\n      const cartAmounts = []\n\n      if (parseCartData.length > 0) {\n        parseCartData.forEach(eachItem => {\n          const totalItemAmount = eachItem.cost * eachItem.quantity\n          cartAmounts.push(totalItemAmount)\n        })\n        const totalCartAmount = cartAmounts.reduce(\n          (previousScore, currentScore) => previousScore + currentScore,\n        )\n        this.setState({totalCartAmount})\n      }\n      this.setState({cartData: parseCartData, cartStatus: true})\n    }\n  }\n\n  onClickPlaceOrder = () => {\n    const {cartData} = this.state\n    cartData.forEach(eachItem => {\n      const {id} = eachItem\n      localStorage.removeItem(`quantity${id}`)\n      localStorage.removeItem(`isButtonClicked${id}`)\n    })\n    localStorage.removeItem('cartData')\n    this.setState({orderStatus: true, cartData: []})\n  }\n\n  onChangeTotalAmount = value => {\n    this.setState(prev => ({totalCartAmount: prev.totalCartAmount + value}))\n  }\n\n  updateCartData = () => {\n    const {cartData} = this.state\n    if (cartData.length > 0) {\n      localStorage.setItem('cartData', cartData)\n    } else {\n      localStorage.removeItem('cartData')\n    }\n  }\n\n  onDeleteCartItem = id => {\n    const {cartData} = this.state\n    const updatedCartData = cartData.filter(eachItem => eachItem.id !== id)\n    this.setState({cartData: updatedCartData}, this.updateCartData)\n  }\n\n  render() {\n    const {cartData, cartStatus, orderStatus, totalCartAmount} = this.state\n\n    return (\n      <>\n        {cartStatus && totalCartAmount > 0 ? (\n          <>\n            {!orderStatus ? (\n              <div>\n                <Header />\n                <div className=\"cart-container\">\n                  <div className=\"cart-responsive-container\">\n                    <ul className=\"cart-list-container\">\n                      <li className=\"cart-desktop-list-header\">\n                        <p className=\"list-header-name\">Item</p>\n                        <p className=\"list-header-name\">Quantity</p>\n                        <p className=\"list-header-name\">Price</p>\n                      </li>\n                      {cartData.map(eachItem => (\n                        <CartItem\n                          eachItem={eachItem}\n                          key={eachItem.id}\n                          onChangeTotalAmount={this.onChangeTotalAmount}\n                          onDeleteCartItem={this.onDeleteCartItem}\n                        />\n                      ))}\n                    </ul>\n                    <hr className=\"cart-line\" />\n                    <div>\n                      <div className=\"total-cart-amount-container\">\n                        <p className=\"total-order-text\">Order Total:</p>\n                        <p testid=\"total-price\" className=\"total-order-amount\">\n                          â‚¹{totalCartAmount}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"place-order-button-container\">\n                      <button\n                        type=\"button\"\n                        className=\"cart-place-order-button\"\n                        onClick={this.onClickPlaceOrder}\n                      >\n                        Place Order\n                      </button>\n                    </div>\n                  </div>\n                </div>\n                <Footer />\n              </div>\n            ) : (\n              <>\n                <Header />\n                <div className=\"order-successful-container\">\n                  <div className=\"order-successful-responsive-container\">\n                    <img\n                      className=\"order-successful-image\"\n                      src=\"https://res.cloudinary.com/dw1fcsurf/image/upload/v1636537713/Tasty%20Kitchen/PageNotFound/check-circle.1_1_wss230.png\"\n                      alt=\"order successful\"\n                    />\n                    <h1 className=\"order-successful-heading\">\n                      Payment Successful\n                    </h1>\n                    <p className=\"order-successful-para\">\n                      Thank you for ordering <br />\n                      Your payment is successfully completed.\n                    </p>\n                    <p>\n                      Estimated delivery time :\n                      {new Date(getTime() + 30 * 60000).toLocaleTimeString()}{' '}\n                    </p>\n                    <Link to=\"/\">\n                      <button type=\"button\" className=\"order-successful-button\">\n                        Go To Home Page\n                      </button>\n                    </Link>\n                  </div>\n                </div>\n              </>\n            )}\n          </>\n        ) : (\n          <div>\n            <Header />\n            <div className=\"empty-cart-container\">\n              <div className=\"empty-cart-responsive-container\">\n                <img\n                  className=\"empty-cart-image\"\n                  src=\"https://res.cloudinary.com/dw1fcsurf/image/upload/v1635828875/Tasty%20Kitchen/Cart/cooking_1_nbxuds.png\"\n                  alt=\"empty cart\"\n                />\n                <h1 className=\"empty-cart-heading\">No Order Yet!</h1>\n                <p className=\"empty-cart-para\">\n                  Your cart is empty. Add something from the menu.\n                </p>\n                <Link to=\"/\">\n                  <button className=\"empty-cart-button\" type=\"button\">\n                    Order Now\n                  </button>\n                </Link>\n              </div>\n            </div>\n          </div>\n        )}\n      </>\n    )\n  }\n}\n\nexport default Cart\n"]},"metadata":{},"sourceType":"module"}