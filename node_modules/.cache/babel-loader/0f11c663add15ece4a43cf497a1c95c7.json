{"ast":null,"code":"var _jsxFileName = \"/home/workspace/reactjs/coding-practices/covid19Dashboard/src/components/RestaurantDetails/index.js\";\nimport { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Loader from 'react-loader-spinner';\nimport { AiFillStar } from 'react-icons/ai';\nimport { BiRupee } from 'react-icons/bi';\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport RestaurantFoodItem from '../RestaurantFoodItem';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS'\n};\n\nclass RestaurantDetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      restaurantData: {},\n      foodItemData: [],\n      apiStatus: apiStatusConstants.initial\n    };\n\n    this.getFormattedData = data => ({\n      id: data.id,\n      imageUrl: data.image_url,\n      rating: data.rating,\n      name: data.name,\n      reviewsCount: data.reviews_count,\n      location: data.location,\n      costForTwo: data.cost_for_two,\n      cuisine: data.cuisine\n    });\n\n    this.getFoodItemFormattedData = data => ({\n      imageUrl: data.image_url,\n      name: data.name,\n      cost: data.cost,\n      rating: data.rating,\n      id: data.id\n    });\n\n    this.getRestaurantData = async () => {\n      const {\n        match\n      } = this.props;\n      const {\n        params\n      } = match;\n      const {\n        id\n      } = params;\n      this.setState({\n        apiStatus: apiStatusConstants.inProgress\n      });\n      const jwtToken = Cookies.get('jwt_token');\n      const apiUrl = `https://apis.ccbp.in/restaurants-list/${id}`;\n      const options = {\n        headers: {\n          Authorization: `Bearer ${jwtToken}`\n        },\n        method: 'GET'\n      };\n      const response = await fetch(apiUrl, options);\n\n      if (response.ok) {\n        const fetchedData = await response.json();\n        const updatedData = this.getFormattedData(fetchedData);\n        const updatedFoodItemData = fetchedData.food_items.map(eachItem => this.getFoodItemFormattedData(eachItem));\n        this.setState({\n          restaurantData: updatedData,\n          foodItemData: updatedFoodItemData,\n          apiStatus: apiStatusConstants.success\n        });\n      } else {\n        this.setState({\n          apiStatus: apiStatusConstants.failure\n        });\n      }\n    };\n\n    this.renderRestaurantDetailsView = () => {\n      const {\n        restaurantData,\n        foodItemData\n      } = this.state;\n      const {\n        imageUrl,\n        rating,\n        name,\n        location,\n        reviewsCount,\n        costForTwo,\n        cuisine\n      } = restaurantData;\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"specific-restaurant-details-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"restaurant-banner-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"banner-responsive-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: imageUrl,\n                alt: \"restaurant\",\n                className: \"specific-restaurant-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"banner-details-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"specific-restaurant-name\",\n                  children: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"specific-restaurant-cuisine\",\n                  children: cuisine\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"specific-restaurant-location\",\n                  children: location\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rating-cost-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"specific-restaurant-rating-container\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rating-container\",\n                      children: [/*#__PURE__*/_jsxDEV(AiFillStar, {\n                        className: \"restaurant-details-star\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"specific-restaurant-rating\",\n                        children: rating\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"specific-restaurant-reviews\",\n                      children: [reviewsCount, \"+ Ratings\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                    className: \"line\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cost-container\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"specific-restaurant-cost\",\n                      children: [/*#__PURE__*/_jsxDEV(BiRupee, {\n                        size: 15\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 23\n                      }, this), costForTwo]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"specific-restaurant-cost-text\",\n                      children: \"Cost for two\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"food-item-list-container\",\n            children: foodItemData.map(eachFoodItem => /*#__PURE__*/_jsxDEV(RestaurantFoodItem, {\n              eachFoodItem: eachFoodItem\n            }, eachFoodItem.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true);\n    };\n\n    this.renderLoadingView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      testid: \"restaurant-details-loader\",\n      className: \"restaurant-loader-container\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        type: \"Oval\",\n        color: \"#F7931E\",\n        height: \"50\",\n        width: \"50\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 5\n    }, this);\n\n    this.renderFailureView = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"restaurant-error-view-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://res.cloudinary.com/nsp/image/upload/v1635664104/tastyKitchens/error_1x_csgpog.png\",\n        alt: \"restaurants failure\",\n        className: \"restaurant-failure-img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"restaurant-failure-heading-text\",\n        children: \"Page Not Found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"restaurant-failure-description\",\n        children: \"we are sorry, the page you requested could not be found\\u2028Please go back to the homepage\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"error-button\",\n        type: \"button\",\n        children: \"Home Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 5\n    }, this);\n\n    this.renderRestaurantDetails = () => {\n      const {\n        apiStatus\n      } = this.state;\n\n      switch (apiStatus) {\n        case apiStatusConstants.success:\n          return this.renderRestaurantDetailsView();\n\n        case apiStatusConstants.failure:\n          return this.renderFailureView();\n\n        case apiStatusConstants.inProgress:\n          return this.renderLoadingView();\n\n        default:\n          return null;\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getRestaurantData();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Restaurant-details-container\",\n        children: this.renderRestaurantDetails()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default RestaurantDetails;","map":{"version":3,"sources":["/home/workspace/reactjs/coding-practices/covid19Dashboard/src/components/RestaurantDetails/index.js"],"names":["Component","Cookies","Loader","AiFillStar","BiRupee","Header","Footer","RestaurantFoodItem","apiStatusConstants","initial","success","failure","inProgress","RestaurantDetails","state","restaurantData","foodItemData","apiStatus","getFormattedData","data","id","imageUrl","image_url","rating","name","reviewsCount","reviews_count","location","costForTwo","cost_for_two","cuisine","getFoodItemFormattedData","cost","getRestaurantData","match","props","params","setState","jwtToken","get","apiUrl","options","headers","Authorization","method","response","fetch","ok","fetchedData","json","updatedData","updatedFoodItemData","food_items","map","eachItem","renderRestaurantDetailsView","eachFoodItem","renderLoadingView","renderFailureView","renderRestaurantDetails","componentDidMount","render"],"mappings":"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","sourcesContent":["import {Component} from 'react'\nimport Cookies from 'js-cookie'\nimport Loader from 'react-loader-spinner'\nimport {AiFillStar} from 'react-icons/ai'\nimport {BiRupee} from 'react-icons/bi'\n\nimport Header from '../Header'\nimport Footer from '../Footer'\nimport RestaurantFoodItem from '../RestaurantFoodItem'\n\nimport './index.css'\n\nconst apiStatusConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS',\n}\n\nclass RestaurantDetails extends Component {\n  state = {\n    restaurantData: {},\n    foodItemData: [],\n    apiStatus: apiStatusConstants.initial,\n  }\n\n  componentDidMount() {\n    this.getRestaurantData()\n  }\n\n  getFormattedData = data => ({\n    id: data.id,\n    imageUrl: data.image_url,\n    rating: data.rating,\n    name: data.name,\n    reviewsCount: data.reviews_count,\n    location: data.location,\n    costForTwo: data.cost_for_two,\n    cuisine: data.cuisine,\n  })\n\n  getFoodItemFormattedData = data => ({\n    imageUrl: data.image_url,\n    name: data.name,\n    cost: data.cost,\n    rating: data.rating,\n    id: data.id,\n  })\n\n  getRestaurantData = async () => {\n    const {match} = this.props\n    const {params} = match\n    const {id} = params\n\n    this.setState({\n      apiStatus: apiStatusConstants.inProgress,\n    })\n    const jwtToken = Cookies.get('jwt_token')\n    const apiUrl = `https://apis.ccbp.in/restaurants-list/${id}`\n    const options = {\n      headers: {\n        Authorization: `Bearer ${jwtToken}`,\n      },\n      method: 'GET',\n    }\n    const response = await fetch(apiUrl, options)\n    if (response.ok) {\n      const fetchedData = await response.json()\n      const updatedData = this.getFormattedData(fetchedData)\n      const updatedFoodItemData = fetchedData.food_items.map(eachItem =>\n        this.getFoodItemFormattedData(eachItem),\n      )\n      this.setState({\n        restaurantData: updatedData,\n        foodItemData: updatedFoodItemData,\n        apiStatus: apiStatusConstants.success,\n      })\n    } else {\n      this.setState({\n        apiStatus: apiStatusConstants.failure,\n      })\n    }\n  }\n\n  renderRestaurantDetailsView = () => {\n    const {restaurantData, foodItemData} = this.state\n    const {\n      imageUrl,\n      rating,\n      name,\n      location,\n      reviewsCount,\n      costForTwo,\n      cuisine,\n    } = restaurantData\n\n    return (\n      <>\n        <div className=\"specific-restaurant-details-container\">\n          <div className=\"restaurant-banner-container\">\n            <div className=\"banner-responsive-container\">\n              <img\n                src={imageUrl}\n                alt=\"restaurant\"\n                className=\"specific-restaurant-image\"\n              />\n              <div className=\"banner-details-container\">\n                <h1 className=\"specific-restaurant-name\">{name}</h1>\n                <p className=\"specific-restaurant-cuisine\">{cuisine}</p>\n                <p className=\"specific-restaurant-location\">{location}</p>\n                <div className=\"rating-cost-container\">\n                  <div className=\"specific-restaurant-rating-container\">\n                    <div className=\"rating-container\">\n                      <AiFillStar className=\"restaurant-details-star\" />\n                      <p className=\"specific-restaurant-rating\">{rating}</p>\n                    </div>\n                    <p className=\"specific-restaurant-reviews\">\n                      {reviewsCount}+ Ratings\n                    </p>\n                  </div>\n                  <hr className=\"line\" />\n                  <div className=\"cost-container\">\n                    <p className=\"specific-restaurant-cost\">\n                      <BiRupee size={15} />\n                      {costForTwo}\n                    </p>\n                    <p className=\"specific-restaurant-cost-text\">\n                      Cost for two\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <ul className=\"food-item-list-container\">\n            {foodItemData.map(eachFoodItem => (\n              <RestaurantFoodItem\n                eachFoodItem={eachFoodItem}\n                key={eachFoodItem.id}\n              />\n            ))}\n          </ul>\n        </div>\n        <Footer />\n      </>\n    )\n  }\n\n  renderLoadingView = () => (\n    <div\n      testid=\"restaurant-details-loader\"\n      className=\"restaurant-loader-container\"\n    >\n      <Loader type=\"Oval\" color=\"#F7931E\" height=\"50\" width=\"50\" />\n    </div>\n  )\n\n  renderFailureView = () => (\n    <div className=\"restaurant-error-view-container\">\n      <img\n        src=\"https://res.cloudinary.com/nsp/image/upload/v1635664104/tastyKitchens/error_1x_csgpog.png\"\n        alt=\"restaurants failure\"\n        className=\"restaurant-failure-img\"\n      />\n      <h1 className=\"restaurant-failure-heading-text\">Page Not Found</h1>\n      <p className=\"restaurant-failure-description\">\n        we are sorry, the page you requested could not be foundâ€¨Please go back\n        to the homepage\n      </p>\n      <button className=\"error-button\" type=\"button\">\n        Home Page\n      </button>\n    </div>\n  )\n\n  renderRestaurantDetails = () => {\n    const {apiStatus} = this.state\n\n    switch (apiStatus) {\n      case apiStatusConstants.success:\n        return this.renderRestaurantDetailsView()\n      case apiStatusConstants.failure:\n        return this.renderFailureView()\n      case apiStatusConstants.inProgress:\n        return this.renderLoadingView()\n      default:\n        return null\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <Header />\n        <div className=\"Restaurant-details-container\">\n          {this.renderRestaurantDetails()}\n        </div>\n      </>\n    )\n  }\n}\n\nexport default RestaurantDetails\n"]},"metadata":{},"sourceType":"module"}